# saves a copy of a hos tconfiguratino file in a parallel directory structure, for safe keeping and future reference.

# echo all args: $*
# echo arg 0: $0
# echo num args: "$#"

if [ $# != 2 ]; then
    echo "Usage: $0 <host-dir> <file>"
	echo BTW, your host is: `cat /etc/*release`
	exit 1;
fi

HOST_DIR=$1
# echo "Verifying that $HOST_DIR exist"

if [ ! -d $HOST_DIR ]; then
    echo "Dir '$HOST_DIR' not found"
	exit 1;
fi

FILE=$2
if [ ! -e $FILE ]; then
    echo "File '$FILE' not found"
	exit 1;
fi

FILE_DIR=$(dirname $FILE)
mkdir -p $HOST_DIR.$FILE_DIR
cp -R -P $FILE $HOST_DIR.$FILE
